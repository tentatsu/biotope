# Biotope型開発手法について

## 前置き：Biotope(ビオトープ）とは
Biotope(ビオトープ）とは、日本語で湾処（わんど）のことで、川の本流に対して繋がっているが流れが無く水が淀む地点の事を指す。  
魚の産卵、生育の場でまた避難場所にもなる。

## プロジェクト開発とプロダクト開発

### プロジェクト開発
プロジェクト開発とは、要件を定義し、定義したものを余す事なく制作し開発した成果物を元に対価を取る開発手法のことである。  
プロジェクト開発の目的は、プロジェクトを当初予定のコスト（予算）、スケジュール内に収めてプロジェクトを無事収束することである。  

### プロダクト開発
プロダクト開発とは、一時的な開発ではなくその発注元の存続をかけた製品の開発を行なったのち、その発注元における顔となるべくブランドの成長を促し継続的な収益を上げられるように成長させることである。  
プロダクト開発には終わりはなく、終わるときはその製品がこの世から消える時である。  

## ウォーターフォールの問題点
### 目的の矛盾
従来のウォーターフォールの開発における矛盾として、プロジェクトを進めなければならないベンダーと、プロダクトを開発しなければならない発注元の考え方がある。  
前述の通りプロジェクト開発とは、プロジェクトを収束することを目的とするがプロダクト開発は、プロジェクト開発後も続く継続的な開発である。  
発注元はプロダクト開発の一部としてベンダーにプロジェクト開発を依頼するのに対し、ベンダーはプロジェクト開発を行うことだけが目的なのである。ベンダーはプロジェクトが終わりさえすれば成功であるのに対し、発注元はプロジェクトが終わった後もその製品は続いていく。  
従って、プロジェクト開発の最中発注元の要求が変わることは当然であるし、それをベンダーが受け入れられないのも当然である。それはウォーターフォールという開発手法の限界であり、それ自体が悪いことではなくそう成るべくして成っていることである。

### 仕様変更の発生
要件定義はプロジェクトの初期に行うものであり、その時点での不確実性は非常に大きい。通常この時点での不確実性のブレは4倍にまでなると言われている。（1000万円の案件が4000万円までブレる可能性があることを示唆している）  
また、要件定義をしっかりと行うプロジェクトは概ね開発期間が長く取られるものであり、制作している間にも世間のトレンドや情勢などでこのプロダクトが完成した時には利用価値が半減しているということも考えられる。  
開発期間中に発注元が仕様変更をしたくなるのも当然で、時間は刻一刻と過ぎる中、最初に決めた要件だけでリリース後に戦いを挑んでいかなければならないのである。  
プロジェクト開発とプロダクト開発のギャップはまさにここにある。

## アジャイル開発
そこで、発注元のプロダクト開発のフローに寄り添うという形で出てきた新しいプロジェクト開発手法が、アジャイルである。  
アジャイルではスプリントという小さなタイムボックスで区切り、通常1週間〜1ヶ月程度で開発サイクルを決め、人員を固定し要件を細切れにすることでプロダクトの成長に合わせたシステム開発を行う手法である。  
この考え方、実践方法は素晴らしいし発注元のプロダクトを成長させるにはこの方法が現時点では最も良い手法であることは間違いない。  
  
しかし、ウォーターフォールが必要な開発は必ずある。例えばECサイトの開発でアジャイル開発でスプリントを回しカートだけを作っても稼働を始めるのに何年かかるか分からない。むしろアジャイルで回すべきではない懸案である。  
そうした中で、ウォーターフォールをアジャイル的に回す事が出来れば良いという考えから今回のBiotope開発手法は生まれた。  

## Biotope開発手法
### Biotope（湾処）
Biotope開発手法は、ウォーターフォールに対して何も新しい技術は取り込んではいない。違う点として以下が挙げられる。
* 要件定義完了時に開発見積もりを提出する
  * この見積もりは要件定義の内容に対して行い、その後の仕様変更については加味しない
  * 初期要件定義期間の延長は基本的に認めず、初期要件で出せなかった要件はプロダクト開発要件定義で改めて話し合いを行う
* 要件定義完了後に、プロダクト開発の要件定義を行う
  * プロダクト開発の要件定義では製造中システムの仕様変更について話し合いを行う
* 開発の完了時且つ結合テストを行う前に「仕様変更対応」と「仕様合意」の期間を取る。
滝のような開発を行うのではなく、Biotope（湾処）となる地点を一度置くことで、システムのリリース前に一度全員が今のシステム仕様を立ち返り俯瞰することで本当に時流にあったプロダクトをプロジェクト開発出来ているいるのかを確認する期間を取る。  
  
この湾処は、発注元に仕様変更を指示する時間を与え、ベンダーに仕様変更を受け入れる時間を与える。デザインの変更もこの期間に行う。  
またここでの仕様変更はプロダクトにおける本当の価値を生み出すことが多く、ベンダーにはその価値の対価を受け入れる明確な理由が出せる期間となる。  
ここで俯瞰することにより、作りたいものと作ったもののギャップを埋めることができるし、プロジェクトの中止すらも行うことができる（本当に出来るかどうかは別の話）  

![Biotope開発手法フロー](/image/biotope.png)

### Biotope開発におけるシステム開発の流れ
Biotopeではシステム開発の流れはウォーターフォールと変わらない。  
開発完了後に「仕様変更対応」と「仕様合意」の作業が入るため、その時点で単体レベルでの品質を担保しておく必要がある。

### Biotope開発におけるデザイン開発の流れ
Biotopeではデザインフェーズを3つに分ける。「モック作成」「デザイン第一フェーズ」「デザイン第二フェーズ」。モック作成でシステムの設計を行い、デザイン第一フェーズで製造を行う。  
そしてデザイン第二フェーズの反映を「仕様変更期間」にて行う。えてしてデザインは第一フェーズの後に変わることは多く、それを開発開始まで待つと全体のスケジュールが遅延する。  
第二フェーズがあることを発注元が理解すれば、第一フェーズの進行は円滑に進み、スムーズに終わらせることが出来る。  

![Biotope開発手法フロー](/image/biotope_image.png)


### Biotope開発手法における注意点
* Biotopeでは、発注元に提出する見積もりにあらかじめ「仕様変更期間」を盛り込む。そのため他社よりも見積もり工数並びに金額が1〜2割割高になる。
  * ウォーターフォールで開発を行った場合にあらかじめ仕様変更対応予算を組み込んだ場合、１割程度を見込むとプロジェクトは円滑に進むと言われている(*2)
    * Biotopeでは仕様変更定義を行い、プロダクト開発に円滑に入れる要件定義期間を取るため、更に全体の１割程度の工数を追加で見込む。
* Biotopeでは、開発完了時に仕様変更期間に入る。そのため単体レベルのバグをその時点で出してしまうと非常に気まずい空気が流れる。単体テストはしっかり行うべきである。


# Biotope開発手法が向いていない案件
## 超大規模開発案件（100人月超え）
大規模開発案件では、可能であれば従来のウォーターフォールで開発を行うべきである。  
これは仕様変更を認めてしまうと取り返しのつかないことになる可能性があるからである。  
仕様を確実に決めて、それに向かってチーム全員が協力し合うと同時に、この規模の仕様変更の手戻りは仮に2割だとしても  
相当な規模となってしまうため、この規模の開発ではBiotopeで行うべきではない。  


# Biotope開発手法が向いている案件
## 大規模開発案件〜中規模開発案件
・・・


# 後々入れる内容
## 仕様変更対応をテストの前に入れる理由(**)
仕様変更を結合テストの前のタイミングで行うのには仕様変更量に応じて、テスト量が比例して増えることによる影響である。  

変更正味棄却量など・・・





# 出典

** ipa ソフトウェア見積もりガイドブック p77
https://www.ipa.go.jp/files/000005132.pdf

*2 ipa ユーザのための要件定義ガイドp62
https://www.ipa.go.jp/files/000079352.pdf

*3 juse ソフトウェアメトリックス調査2020 システム開発・保守調査
https://juas.or.jp/cms/media/2020/04/20swm_pr.pdf

*4 ウォーターフォールモデルの起源に関する考察 ウォーターフォールに関する誤解を解く
https://barrel.repo.nii.ac.jp/?action=pages_view_main&active_action=repository_view_main_item_detail&item_id=269&item_no=1&page_id=13&block_id=135
ER_64(1)_105-135.pdf
